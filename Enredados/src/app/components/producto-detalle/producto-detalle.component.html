<app-navbar></app-navbar>

<div class="producto-detalle-container" *ngIf="!cargando && producto">
  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a routerLink="/">Inicio</a> > 
    <a (click)="volverAtras()" style="cursor: pointer;">{{ tipo }}</a> > 
    <span>{{ producto.nombre }}</span>
  </div>

  <!-- Contenido Principal -->
  <div class="producto-contenido">
    <!-- Galer√≠a de Im√°genes -->
    <div class="producto-galeria">
      <div class="imagen-principal">
        <img [src]="producto.imagenes[imagenActual]" [alt]="producto.nombre">
      </div>
      <div class="imagenes-miniaturas" *ngIf="producto.imagenes.length > 1">
        <div *ngFor="let img of producto.imagenes; let i = index" 
             class="miniatura"
             [class.activa]="i === imagenActual"
             (click)="cambiarImagen(i)">
          <img [src]="img" [alt]="producto.nombre">
        </div>
      </div>
    </div>

    <!-- Informaci√≥n del Producto -->
    <div class="producto-info">
      <h1>{{ producto.nombre }}</h1>
      
      <p class="marca" *ngIf="producto.marca">
        <strong>Marca:</strong> {{ producto.marca }}
      </p>

      <p class="categoria" *ngIf="producto.categoria">
        <strong>Categor√≠a:</strong> {{ producto.categoria }}
      </p>

      <div class="precio-seccion">
        <span class="precio">{{ producto.precio }}‚Ç¨</span>
      </div>

      <div class="descripcion-corta">
        <p>{{ producto.descripcion }}</p>
      </div>

      <!-- Informaci√≥n Adicional -->
      <div class="info-adicional" *ngIf="producto.tallas || producto.color || producto.estilo || producto.tipo">
        <div class="info-item" *ngIf="producto.tallas">
          <strong>üìè Tallas disponibles:</strong>
          <span>{{ producto.tallas.join(', ') }}</span>
        </div>
        <div class="info-item" *ngIf="producto.color">
          <strong>üé® Color:</strong>
          <span>{{ producto.color }}</span>
        </div>
        <div class="info-item" *ngIf="producto.estilo">
          <strong>‚ú® Estilo:</strong>
          <span>{{ producto.estilo }}</span>
        </div>
        <div class="info-item" *ngIf="producto.tipo">
          <strong>üëî Tipo:</strong>
          <span>{{ producto.tipo }}</span>
        </div>
        <div class="info-item" *ngIf="producto.disponible !== undefined">
          <strong>üì¶ Disponibilidad:</strong>
          <span [class.disponible]="producto.disponible" [class.no-disponible]="!producto.disponible">
            {{ producto.disponible ? '‚úÖ Disponible' : '‚ùå Agotado' }}
          </span>
        </div>
      </div>

      <!-- Botones de Acci√≥n -->
      <div class="acciones">
        <button class="btn-principal" (click)="consultarDisponibilidad()">
          üìû Consultar Disponibilidad
        </button>
        <button class="btn-secundario" (click)="volverAtras()">
          ‚Üê Volver al Cat√°logo
        </button>
      </div>
    </div>
  </div>

  <!-- Descripci√≥n Detallada -->
  <div class="descripcion-detallada">
    <h2>Descripci√≥n Completa</h2>
    <p>{{ producto.descripcionLarga }}</p>
  </div>

  <!-- Caracter√≠sticas -->
  <div class="caracteristicas-seccion" *ngIf="producto.caracteristicas">
    <h2>Caracter√≠sticas</h2>
    <ul class="caracteristicas-lista">
      <li *ngFor="let caracteristica of producto.caracteristicas">
        ‚úì {{ caracteristica }}
      </li>
    </ul>
  </div>
</div>

<div class="loading" *ngIf="cargando">
  <p>Cargando producto...</p>
</div>