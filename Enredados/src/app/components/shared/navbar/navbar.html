<header class="navbar-header">
  <nav class="navbar-container">
    <!-- Logo -->
    <div class="navbar-logo">
      <a routerLink="/">ğŸ’ Enredados</a>
    </div>

    <!-- MenÃº Principal -->
    <ul class="navbar-menu">
      <!-- Mi Boda - SOLO para usuarios normales -->
      <li class="navbar-item dropdown" *ngIf="authService.isLoggedIn() && !authService.isProveedor()"
          [class.open]="menuAbierto['miboda']" 
          (mouseenter)="abrirMenu('miboda')" 
          (mouseleave)="cerrarMenu('miboda')">
        <a routerLink="/mi-boda" class="navbar-link">Mi Boda</a>
        <ul class="dropdown-menu">
          <li><a routerLink="/mi-agenda">ğŸ“… Agenda</a></li>
          <li><a routerLink="/invitados">ğŸ‘¥ Invitados</a></li>
          <li><a routerLink="/mesas">ğŸª‘ Mesas</a></li>
          <li><a routerLink="/presupuestador">ğŸ’° Presupuestador</a></li>
        </ul>
      </li>

      <!-- Servicios -->
      <li class="navbar-item">
        <a routerLink="/servicios" class="navbar-link">Servicios</a>
      </li>

      <!-- Novias -->
      <li class="navbar-item dropdown" [class.open]="menuAbierto['novias']"
          (mouseenter)="abrirMenu('novias')" 
          (mouseleave)="cerrarMenu('novias')">
        <a routerLink="/novias" class="navbar-link">Novias</a>
        <ul class="dropdown-menu">
          <li><a routerLink="/vestidos-novia">ğŸ‘— Vestidos de Novia</a></li>
          <li><a routerLink="/complementos-novia">ğŸ’ Complementos</a></li>
        </ul>
      </li>

      <!-- Novios -->
      <li class="navbar-item dropdown" [class.open]="menuAbierto['novios']"
          (mouseenter)="abrirMenu('novios')" 
          (mouseleave)="cerrarMenu('novios')">
        <a routerLink="/novios" class="navbar-link">Novios</a>
        <ul class="dropdown-menu">
          <li><a routerLink="/trajes-novio">ğŸ¤µ Trajes de Novio</a></li>
          <li><a routerLink="/complementos-novio">ğŸ‘” Complementos</a></li>
        </ul>
      </li>
    </ul>

    <!-- Botones de Usuario -->
    <div class="navbar-actions">
      <!-- Usuario autenticado -->
      <div class="user-menu dropdown" *ngIf="authService.isLoggedIn()" 
           [class.open]="menuAbierto['usuario']"
           (mouseenter)="abrirMenu('usuario')" 
           (mouseleave)="cerrarMenu('usuario')">
        <button class="user-button">
          {{ authService.isProveedor() ? 'ğŸ¢' : 'ğŸ‘¤' }} {{ authService.getUsername() }}
        </button>
        <div class="user-dropdown">
          <!-- SOLO PARA PROVEEDORES -->
          <a routerLink="/panel-proveedor" *ngIf="authService.isProveedor()">
            ğŸ¢ Panel de Proveedor
          </a>
          
          <!-- SOLO PARA USUARIOS NORMALES -->
          <a routerLink="/perfil" *ngIf="!authService.isProveedor()">
            ğŸ‘¤ Mi Perfil
          </a>
          <a routerLink="/mi-boda" *ngIf="!authService.isProveedor()">
            ğŸ’’ Mi Boda
          </a>
          
          <!-- COMÃšN PARA TODOS -->
          <a href="#" (click)="logout(); $event.preventDefault()">
            ğŸšª Cerrar SesiÃ³n
          </a>
        </div>
      </div>

      <!-- Botones login/registro -->
      <div class="auth-buttons" *ngIf="!authService.isLoggedIn()">
        <a routerLink="/registro-proveedor" class="btn-proveedor">ğŸ¢ Soy Proveedor</a>
        <a routerLink="/login" class="btn-login">Iniciar SesiÃ³n</a>
        <a routerLink="/registro" class="btn-register">Registrarse</a>
      </div>
    </div>
  </nav>
</header>